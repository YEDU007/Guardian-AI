<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Guardian AI | Profile</title>
  <link rel="stylesheet" href="assets/styles.css">
</head>
<body>

<div id="navbar"></div>
<script>
  fetch("components/navbar.html")
    .then(r => r.text())
    .then(html => document.getElementById("navbar").innerHTML = html);
</script>

<section class="hero">
  <h1>Elderly Profile</h1>
  <p>Personal and emergency contact details</p>
</section>

<section class="grid">
  <div class="card">
    <h3>Enter Details</h3>
    <input id="name" placeholder="Full Name">
    <input id="age" placeholder="Age">
    <input id="blood" placeholder="Blood Group">
    <input id="phone" placeholder="Emergency Contact">
    <button onclick="saveProfile()">Save</button>
  </div>

  <div class="card">
    <h3>Saved Profile</h3>
    <div id="view">No data saved</div>
  </div>
</section>

<script>
  function saveProfile() {
    const data = {
      name: name.value,
      age: age.value,
      blood: blood.value,
      phone: phone.value
    };
    localStorage.setItem("profile", JSON.stringify(data));
    render();
  }

  function render() {
    const d = JSON.parse(localStorage.getItem("profile"));
    if (!d) return;
    view.innerHTML = `
      <p><b>Name:</b> ${d.name}</p>
      <p><b>Age:</b> ${d.age}</p>
      <p><b>Blood:</b> ${d.blood}</p>
      <p><b>Contact:</b> ${d.phone}</p>
    `;
  }
  render();
</script>

<script type="module" src="assets/app.js"></script>
<script>protectPage();</script>

</body>
</html>
